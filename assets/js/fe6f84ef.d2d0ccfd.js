"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[109],{5898:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"commands/check_licenses","title":"Check licenses \ud83d\udc68\u200d\u2696\ufe0f","description":"Very Good CLI offers a simple and straightforward license checker for dependencies hosted by Dart\'s package manager. Allowing developers to easily keep track of the rights and restrictions external dependencies might impose on their projects.","source":"@site/docs/commands/check_licenses.md","sourceDirName":"commands","slug":"/commands/check_licenses","permalink":"/docs/commands/check_licenses","draft":false,"unlisted":false,"editUrl":"https://github.com/verygoodopensource/very_good_cli/tree/main/site/docs/commands/check_licenses.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Get Packages \ud83d\udce6","permalink":"/docs/commands/get_pkgs"},"next":{"title":"Resources","permalink":"/docs/category/resources"}}');var c=s(4848),a=s(8453);const d={sidebar_position:3},r="Check licenses \ud83d\udc68\u200d\u2696\ufe0f",l={},t=[{value:"Quick Start \ud83d\ude80",id:"quick-start-",level:2},{value:"Arguments \u2699\ufe0f",id:"arguments-\ufe0f",level:2},{value:"<code>allowed</code>",id:"allowed",level:3},{value:"Example usage:",id:"example-usage",level:4},{value:"<code>forbidden</code>",id:"forbidden",level:3},{value:"Example usage:",id:"example-usage-1",level:4},{value:"<code>dependency-type</code>",id:"dependency-type",level:3},{value:"Example usage:",id:"example-usage-2",level:4},{value:"<code>skip-packages</code>",id:"skip-packages",level:3},{value:"Example usage:",id:"example-usage-3",level:4},{value:"<code>ignore-retrieval-failures</code>",id:"ignore-retrieval-failures",level:3},{value:"Example usage:",id:"example-usage-4",level:4},{value:"Supported licenses \ud83d\udcb3",id:"supported-licenses-",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.header,{children:(0,c.jsx)(n.h1,{id:"check-licenses-\ufe0f",children:"Check licenses \ud83d\udc68\u200d\u2696\ufe0f"})}),"\n",(0,c.jsxs)(n.p,{children:["Very Good CLI offers a simple and straightforward license checker for dependencies hosted by ",(0,c.jsx)(n.a,{href:"https://pub.dev/",children:"Dart's package manager"}),". Allowing developers to easily keep track of the rights and restrictions external dependencies might impose on their projects."]}),"\n",(0,c.jsx)(n.h2,{id:"quick-start-",children:"Quick Start \ud83d\ude80"}),"\n",(0,c.jsxs)(n.p,{children:["To get started, install ",(0,c.jsx)(n.a,{href:"https://cli.vgv.dev/docs/overview#quick-start-",children:"Very Good CLI"})," and run the following command within your Dart or Flutter project:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"very_good packages check licenses\n"})}),"\n",(0,c.jsx)(n.admonition,{type:"info",children:(0,c.jsxs)(n.p,{children:["We do not collect any information about your project or dependencies. The license checker doesn't require an internet connection, it detects licenses locally using ",(0,c.jsx)(n.a,{href:"https://pub.dev/packages/pana",children:"Dart's package analyzer"})," license detector."]})}),"\n",(0,c.jsx)(n.h2,{id:"arguments-\ufe0f",children:"Arguments \u2699\ufe0f"}),"\n",(0,c.jsx)(n.h3,{id:"allowed",children:(0,c.jsx)(n.code,{children:"allowed"})}),"\n",(0,c.jsx)(n.p,{children:"Only allows the use of certain licenses. The command will exit with an error and log the list of all the dependencies that have an unlisted license."}),"\n",(0,c.jsx)(n.h4,{id:"example-usage",children:"Example usage:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"very_good packages check licenses --allowed=MIT,BSD-3-Clause\n\n# \u2713 Retrieved 6 licenses from 6 packages of type: BSD-3-Clause (3), MIT (1), unknown (1) and Apache-2.0 (1).\n# 2 dependencies have banned licenses: html (unknown) and universal_io (Apache-2.0).\n"})}),"\n",(0,c.jsx)(n.admonition,{type:"info",children:(0,c.jsxs)(n.p,{children:["A comprehensive list of all the licenses allowed as options is available within the ",(0,c.jsx)(n.a,{href:"#supported-licenses-",children:(0,c.jsx)(n.em,{children:"Supported licenses"})})," section of this document."]})}),"\n",(0,c.jsx)(n.h3,{id:"forbidden",children:(0,c.jsx)(n.code,{children:"forbidden"})}),"\n",(0,c.jsx)(n.p,{children:"Deny the use of certain licenses. The command will exit with an error and log the list of all the dependencies that have a blocked license."}),"\n",(0,c.jsx)(n.h4,{id:"example-usage-1",children:"Example usage:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"very_good packages check licenses --forbidden=unknown,Apache-2.0\n\n# \u2713 Retrieved 6 licenses from 6 packages of type: BSD-3-Clause (3), MIT (1), unknown (1) and Apache-2.0 (1).\n# 2 dependencies have banned licenses: html (unknown) and universal_io (Apache-2.0).\n"})}),"\n",(0,c.jsx)(n.admonition,{type:"warning",children:(0,c.jsxs)(n.p,{children:["The ",(0,c.jsx)(n.code,{children:"allowed"})," and ",(0,c.jsx)(n.code,{children:"forbidden"})," options can't be used at the same time. Typical organization usage dictates which licenses are allowed or forbidden, hence optimizing for that use case."]})}),"\n",(0,c.jsx)(n.h3,{id:"dependency-type",children:(0,c.jsx)(n.code,{children:"dependency-type"})}),"\n",(0,c.jsx)(n.p,{children:"The type of dependencies to check licenses for. There are three available types:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"https://dart.dev/tools/pub/dependencies#dev-dependencies",children:(0,c.jsx)(n.code,{children:"direct-dev"})}),": Another package that your package needs during development."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"https://dart.dev/tools/pub/dependencies",children:(0,c.jsx)(n.code,{children:"direct-main"})}),": Another package that your package needs to work."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"https://dart.dev/tools/pub/dependencies#dependency-overrides",children:(0,c.jsx)(n.code,{children:"direct-overridden"})}),": A dependency that your package overrides that is not already a ",(0,c.jsx)(n.code,{children:"direct-main"})," or ",(0,c.jsx)(n.code,{children:"direct-dev"})," dependency."]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.a,{href:"https://dart.dev/tools/pub/glossary#transitive-dependency",children:(0,c.jsx)(n.code,{children:"transitive"})}),": A dependency that your package indirectly uses because one of its dependencies requires it."]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["When unspecified, it defaults to ",(0,c.jsx)(n.code,{children:"direct-main"}),"."]}),"\n",(0,c.jsx)(n.h4,{id:"example-usage-2",children:"Example usage:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"very_good packages check licenses --dependency-type=direct-main,transitive\n\n# \u2713 Retrieved 83 licenses from 82 packages of type: BSD-3-Clause (65), MIT (15), unknown (1), BSD-2-Clause (1) and Apache-2.0 (1).\n"})}),"\n",(0,c.jsx)(n.admonition,{type:"info",children:(0,c.jsxs)(n.p,{children:["The license checker only requires a ",(0,c.jsx)(n.a,{href:"https://dart.dev/tools/pub/glossary#lockfile",children:"lockfile"})," to gather dependencies. The lockfile is generated automatically for you by ",(0,c.jsx)(n.a,{href:"https://pub.dev/",children:"pub"})," when you run ",(0,c.jsx)(n.code,{children:"pub get"}),", ",(0,c.jsx)(n.code,{children:"pub upgrade"}),", or ",(0,c.jsx)(n.code,{children:"pub downgrade"}),"."]})}),"\n",(0,c.jsx)(n.h3,{id:"skip-packages",children:(0,c.jsx)(n.code,{children:"skip-packages"})}),"\n",(0,c.jsxs)(n.p,{children:["Skips packages from having their licenses checked. Skipped packages will not be checked against ",(0,c.jsx)(n.code,{children:"allowed"})," or ",(0,c.jsx)(n.code,{children:"forbidden"})," licenses."]}),"\n",(0,c.jsx)(n.h4,{id:"example-usage-3",children:"Example usage:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"very_good packages check licenses --skip-packages=html,universal_io\n\n# \u2713 Retrieved 4 licenses from 4 packages of type: BSD-3-Clause (3) and MIT (1).\n"})}),"\n",(0,c.jsx)(n.h3,{id:"ignore-retrieval-failures",children:(0,c.jsx)(n.code,{children:"ignore-retrieval-failures"})}),"\n",(0,c.jsx)(n.p,{children:"Avoids terminating if the license of a dependency could not be retrieved; this may happen if something went wrong when retrieving the license for a package. When enabled, those packages' licenses will fallback to unknown."}),"\n",(0,c.jsx)(n.h4,{id:"example-usage-4",children:"Example usage:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-sh",children:"very_good packages check licenses --ignore-retrieval-failures\n\n# \u2713 Retrieved 6 licenses from 6 packages of type: BSD-3-Clause (3), MIT (1), unknown (1) and Apache-2.0 (1).\n"})}),"\n",(0,c.jsx)(n.h2,{id:"supported-licenses-",children:"Supported licenses \ud83d\udcb3"}),"\n",(0,c.jsxs)(n.p,{children:["The license detection is processed by ",(0,c.jsx)(n.a,{href:"https://pub.dev/packages/pana",children:"Dart's package analyzer"}),", which reports commonly found licenses (SPDX licenses). The list of accepted licenses can be seen in the ",(0,c.jsx)(n.a,{href:"https://github.com/spdx/license-list-data/tree/main/text",children:"SPDX GitHub repository"})," or in the ",(0,c.jsx)(n.a,{href:"https://github.com/VeryGoodOpenSource/very_good_cli/blob/main/lib/src/pub_license/spdx_license.gen.dart",children:"SPDX License enumeration"}),". Therefore, when specifying a license within arguments it must strictly match with the SPDX license name."]}),"\n",(0,c.jsxs)(n.p,{children:["If a license file is incorrectly formatted or is not a commonly found license, then it might be reported as ",(0,c.jsx)(n.code,{children:"unknown"}),". If the former is true, we suggest notifying the package maintainer about the issue."]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>r});var i=s(6540);const c={},a=i.createContext(c);function d(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);