"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[277],{5141:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"templates/core","title":"Flutter Starter App (Core) \ud83c\udf4e","description":"This template is a Flutter starter application with VGV-opinionated best practices. It is the default template for the verygood create flutterapp command.","source":"@site/docs/templates/core.md","sourceDirName":"templates","slug":"/templates/core","permalink":"/docs/templates/core","draft":false,"unlisted":false,"editUrl":"https://github.com/verygoodopensource/very_good_cli/tree/main/site/docs/templates/core.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Templates","permalink":"/docs/category/templates"},"next":{"title":"Flutter Flame Game \ud83d\udd79","permalink":"/docs/templates/flame_game"}}');var i=t(4848),o=t(8453);const s={sidebar_position:1},a="Flutter Starter App (Core) \ud83c\udf4e",l={},d=[{value:"Why Very Good Core?",id:"why-very-good-core",level:2},{value:"App Features \u2728",id:"app-features-",level:2},{value:"Getting Started \ud83d\ude80",id:"getting-started-",level:2},{value:"Installation \ud83d\udcbb",id:"installation-",level:3},{value:"Create a new Flutter Project \ud83c\udd95",id:"create-a-new-flutter-project-",level:3},{value:"Running the Project \u26a1",id:"running-the-project-",level:3},{value:"Project Structure and Architecture \ud83c\udfd7\ufe0f",id:"project-structure-and-architecture-\ufe0f",level:2},{value:"Testing \ud83e\uddea",id:"testing-",level:2},{value:"Running Tests \ud83e\uddd1\u200d\ud83d\udd2c",id:"running-tests-",level:3},{value:"Working with Translations \ud83c\udf10",id:"working-with-translations-",level:2},{value:"Adding Strings",id:"adding-strings",level:3},{value:"Adding Supported Locales",id:"adding-supported-locales",level:3},{value:"Adding Translations",id:"adding-translations",level:3},{value:"Continuous Integration \ud83e\udd16",id:"continuous-integration-",level:2},{value:"Updating App Icons \ud83d\udcf1",id:"updating-app-icons-",level:2},{value:"Android",id:"android",level:3},{value:"iOS",id:"ios",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"flutter-starter-app-core-",children:"Flutter Starter App (Core) \ud83c\udf4e"})}),"\n",(0,i.jsxs)(n.p,{children:["This template is a Flutter starter application with VGV-opinionated best practices. It is the default template for the ",(0,i.jsx)(n.code,{children:"very_good create flutter_app"})," command."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"/img/core_devices.png",alt:"Very Good Core"})}),"\n",(0,i.jsx)(n.h2,{id:"why-very-good-core",children:"Why Very Good Core?"}),"\n",(0,i.jsxs)(n.p,{children:["We liked the ",(0,i.jsx)(n.a,{href:"https://github.com/flutter/flutter/blob/master/packages/flutter_tools/templates/app/lib/main.dart.tmpl",children:"starter app"})," provided by the ",(0,i.jsx)(n.code,{children:"flutter create"})," command, but found ourselves making adjustments every time we started a project. To help streamline the process, we decided to create our own starter template with the core standards and best practices we use at ",(0,i.jsx)(n.a,{href:"https://verygood.ventures",children:"Very Good Ventures"}),". Similar to the Flutter Starter app, Very Good Core contains a basic counter app with some additional features for a more robust app foundation."]}),"\n",(0,i.jsx)(n.h2,{id:"app-features-",children:"App Features \u2728"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Multi-Platform Support"})," - Support for iOS, Android, Web, and Windows (macOS and Linux coming soon!)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Build Flavors"})," - Multiple flavor support for development, staging, and production"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Internationalization Support"})," - Internationalization support using synthetic code generation to streamline the development process"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Sound Null Safety"})," - No more null-dereference exceptions at runtime. Develop with a sound, static type system."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://pub.dev/packages/bloc",children:"Bloc"})})," - Layered architecture with ",(0,i.jsx)(n.code,{children:"bloc"})," for scalable, testable code which offers a clear separation between business logic and presentation"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Testing"})," - Unit and widget tests with 100% line coverage (integration tests coming soon!)"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Logging"})," - Extensible logging to capture uncaught Dart and Flutter exceptions"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://github.com/VeryGoodOpenSource/very_good_analysis",children:"Very Good Analysis"})})," - Lint rules for Dart and Flutter used internally at Very Good Ventures"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Continuous Integration"})," - Lint, format, test, and enforce code coverage using GitHub Actions"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"getting-started-",children:"Getting Started \ud83d\ude80"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.p,{children:["In order to start using Very Good Core you must have the ",(0,i.jsx)(n.a,{href:"https://docs.flutter.dev/get-started/install",children:"Flutter SDK"})," installed on your machine."]})}),"\n",(0,i.jsx)(n.h3,{id:"installation-",children:"Installation \ud83d\udcbb"}),"\n",(0,i.jsxs)(n.p,{children:["For first time users, start by installing the ",(0,i.jsx)(n.a,{href:"https://pub.dev/packages/very_good_cli",children:"Very Good CLI from pub.dev"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"dart pub global activate very_good_cli\n"})}),"\n",(0,i.jsx)(n.h3,{id:"create-a-new-flutter-project-",children:"Create a new Flutter Project \ud83c\udd95"}),"\n",(0,i.jsxs)(n.p,{children:["Then, you can use the ",(0,i.jsx)(n.code,{children:"very_good create flutter_app"})," command just like you would ",(0,i.jsx)(n.code,{children:"flutter create"}),". If desired, can specify a custom org name at time of generation with the ",(0,i.jsx)(n.code,{children:"--org"})," flag."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'# Create a new Flutter app named my_app\nvery_good create flutter_app my_app --desc "My new Flutter app"\n\n# Create a new Flutter app named my_app with a custom org\nvery_good create flutter_app my_app --desc "My new Flutter app" --org "com.custom.org"\n\n# Create a new Flutter app named with the name of the current directory\nvery_good create flutter_app . --desc "My new Flutter app"\n'})}),"\n",(0,i.jsx)(n.h3,{id:"running-the-project-",children:"Running the Project \u26a1"}),"\n",(0,i.jsxs)(n.p,{children:["Once you have finished running ",(0,i.jsx)(n.code,{children:"very_good create"})," with the project directory of your choice, you can change directories into the new project directory and install the dependencies"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"cd my_app\nflutter packages get\n"})}),"\n",(0,i.jsx)(n.p,{children:"This project contains 3 flavors:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Development"}),"\n",(0,i.jsx)(n.li,{children:"Staging"}),"\n",(0,i.jsx)(n.li,{children:"Production"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Each flavor has dedicated entry point (",(0,i.jsx)(n.code,{children:"main_development.dart"}),", ",(0,i.jsx)(n.code,{children:"main_staging.dart"}),", ",(0,i.jsx)(n.code,{children:"main_production.dart"}),") which can be used to setup, instantiate, and inject flavor-specific dependencies into the application."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.code,{children:"development"})," we might want to output logs to the console but in ",(0,i.jsx)(n.code,{children:"staging"})," and ",(0,i.jsx)(n.code,{children:"production"})," we might want to upload logs to ",(0,i.jsx)(n.a,{href:"https://sentry.io",children:"sentry.io"})," or ",(0,i.jsx)(n.a,{href:"https://firebase.google.com/products/analytics",children:"firebase analytics"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["We might want to configure an ",(0,i.jsx)(n.code,{children:"ApiClient"})," or ",(0,i.jsx)(n.code,{children:"DatabaseClient"})," to point to a different endpoint for each flavor."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To run the desired flavor either use the launch configuration in VSCode or Android Studio, or use the following commands:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"# Development\nflutter run --flavor development --target lib/main_development.dart\n\n# Staging\nflutter run --flavor staging --target lib/main_staging.dart\n\n# Production\nflutter run --flavor production --target lib/main_production.dart\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"caution",children:(0,i.jsx)(n.p,{children:"Flavors are only supported on iOS, Android, Web, and Windows."})}),"\n",(0,i.jsx)(n.p,{children:"Now your app is running \ud83c\udf89"}),"\n",(0,i.jsx)(n.h2,{id:"project-structure-and-architecture-\ufe0f",children:"Project Structure and Architecture \ud83c\udfd7\ufe0f"}),"\n",(0,i.jsx)(n.p,{children:"Although Very Good Core is fairly basic in terms of functionality, the architecture and project structure is intended to scale from a simple hobby project to a large production ready application. A folder-by-feature project structure is used to maintain a modular project structure which helps the project scale as the number of features and/or developers increase."}),"\n",(0,i.jsxs)(n.p,{children:["In Very Good Core, there is only a single feature (",(0,i.jsx)(n.code,{children:"counter"}),") to start but that will quickly change as you build out your project. Each feature usually consists of a ",(0,i.jsx)(n.code,{children:"view"})," and a ",(0,i.jsx)(n.code,{children:"cubit"})," (or ",(0,i.jsx)(n.code,{children:"bloc"}),"). The view is responsible for holding the UI (",(0,i.jsx)(n.code,{children:"Widgets"}),") which the user sees and interacts with and the ",(0,i.jsx)(n.code,{children:"cubit"}),"/",(0,i.jsx)(n.code,{children:"bloc"})," is responsible for containing the business logic needed to manage the state of the feature."]}),"\n",(0,i.jsxs)(n.p,{children:["For more details, ",(0,i.jsx)(n.a,{href:"https://verygood.ventures/blog/scalable-best-practices",children:"read our best practices for building scalable apps"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"testing-",children:"Testing \ud83e\uddea"}),"\n",(0,i.jsx)(n.p,{children:"Very Good Core ships with 100% code coverage."}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["To learn more about why we believe 100% code coverage is important and other testing best practices, ",(0,i.jsx)(n.a,{href:"https://verygood.ventures/blog/guide-to-flutter-testing",children:"read our guide to Flutter testing"}),"."]})}),"\n",(0,i.jsx)(n.h3,{id:"running-tests-",children:"Running Tests \ud83e\uddd1\u200d\ud83d\udd2c"}),"\n",(0,i.jsx)(n.p,{children:"To run all unit and widget tests use the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"flutter test --coverage --test-randomize-ordering-seed random\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To view the generated coverage report you can use ",(0,i.jsx)(n.a,{href:"https://github.com/linux-test-project/lcov",children:"lcov"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"# Generate Coverage Report\ngenhtml coverage/lcov.info -o coverage/\n\n# Open Coverage Report\nopen coverage/index.html\n"})}),"\n",(0,i.jsx)(n.h2,{id:"working-with-translations-",children:"Working with Translations \ud83c\udf10"}),"\n",(0,i.jsxs)(n.p,{children:["This project relies on ",(0,i.jsx)(n.a,{href:"https://api.flutter.dev/flutter/flutter_localizations/flutter_localizations-library.html",children:"flutter_localizations"})," and follows the ",(0,i.jsx)(n.a,{href:"https://docs.flutter.dev/development/accessibility-and-localization/internationalization",children:"official internationalization guide for Flutter"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"adding-strings",children:"Adding Strings"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["To add a new localizable string, open the ",(0,i.jsx)(n.code,{children:"app_en.arb"})," file at ",(0,i.jsx)(n.code,{children:"lib/l10n/arb/app_en.arb"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-arb",children:'{\n    "@@locale": "en",\n    "counterAppBarTitle": "Counter",\n    "@counterAppBarTitle": {\n        "description": "Text shown in the AppBar of the Counter Page"\n    }\n}\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Then add a new key/value and description"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-arb",children:'{\n    "@@locale": "en",\n    "counterAppBarTitle": "Counter",\n    "@counterAppBarTitle": {\n        "description": "Text shown in the AppBar of the Counter Page"\n    },\n    "helloWorld": "Hello World",\n    "@helloWorld": {\n        "description": "Hello World Text"\n    }\n}\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Use the new string"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"import 'package:very_good_core/l10n/l10n.dart';\n\n@override\nWidget build(BuildContext context) {\n  final l10n = context.l10n;\n  return Text(l10n.helloWorld);\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"adding-supported-locales",children:"Adding Supported Locales"}),"\n",(0,i.jsxs)(n.p,{children:["Update the ",(0,i.jsx)(n.code,{children:"CFBundleLocalizations"})," array in the ",(0,i.jsx)(n.code,{children:"Info.plist"})," at ",(0,i.jsx)(n.code,{children:"ios/Runner/Info.plist"})," to include the new locale."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"    ...\n\n    <key>CFBundleLocalizations</key>\n\t<array>\n\t\t<string>en</string>\n\t\t<string>es</string>\n\t</array>\n\n    ...\n"})}),"\n",(0,i.jsx)(n.h3,{id:"adding-translations",children:"Adding Translations"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["For each supported locale, add a new ARB file in ",(0,i.jsx)(n.code,{children:"lib/l10n/arb"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u251c\u2500\u2500 l10n\n\u2502   \u251c\u2500\u2500 arb\n\u2502   \u2502   \u251c\u2500\u2500 app_en.arb\n\u2502   \u2502   \u2514\u2500\u2500 app_es.arb\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["Add the translated strings to each ",(0,i.jsx)(n.code,{children:".arb"})," file:"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"app_en.arb"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-arb",children:'{\n    "@@locale": "en",\n    "counterAppBarTitle": "Counter",\n    "@counterAppBarTitle": {\n        "description": "Text shown in the AppBar of the Counter Page"\n    }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"app_es.arb"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-arb",children:'{\n    "@@locale": "es",\n    "counterAppBarTitle": "Contador",\n    "@counterAppBarTitle": {\n        "description": "Texto mostrado en la AppBar de la p\xe1gina del contador"\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"continuous-integration-",children:"Continuous Integration \ud83e\udd16"}),"\n",(0,i.jsxs)(n.p,{children:["Very Good Core comes with a built-in ",(0,i.jsx)(n.a,{href:"https://docs.github.com/en/actions/learn-github-actions",children:"GitHub Actions workflow"})," but you can also add your preferred CI/CD solution."]}),"\n",(0,i.jsxs)(n.p,{children:["Out of the box, on each pull request and push, the CI ",(0,i.jsx)(n.code,{children:"formats"}),", ",(0,i.jsx)(n.code,{children:"lints"}),", and ",(0,i.jsx)(n.code,{children:"tests"})," the code. This ensures the code remains consistent and behaves correctly as you add functionality or make changes. The project uses ",(0,i.jsx)(n.a,{href:"https://github.com/VeryGoodOpenSource/very_good_analysis",children:"Very Good Analysis"})," for a strict set of analysis options used by our team. Code coverage is enforced using the ",(0,i.jsx)(n.a,{href:"https://github.com/marketplace/actions/very-good-coverage",children:"Very Good Coverage GitHub Action"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"updating-app-icons-",children:"Updating App Icons \ud83d\udcf1"}),"\n",(0,i.jsx)(n.p,{children:"When you create a new project, it has a default launcher icon. To customize this icon, you can do it by using the following steps for each platform."}),"\n",(0,i.jsx)(n.h3,{id:"android",children:"Android"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Review the ",(0,i.jsx)(n.a,{href:"https://material.io/design/iconography/",children:"Material Design product icons"})," guidelines for icon design."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.code,{children:"[project]/android/app/src/main/res/"})," directory, place your icon files in folders named using ",(0,i.jsx)(n.a,{href:"https://developer.android.com/guide/topics/resources/providing-resources#AlternativeResources",children:"configuration qualifiers"}),". The default ",(0,i.jsx)(n.code,{children:"mipmap-"})," folders demonstrate the correct naming convention."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.code,{children:"AndroidManifest.xml"}),", update the ",(0,i.jsx)(n.a,{href:"https://developer.android.com/guide/topics/manifest/application-element",children:(0,i.jsx)(n.code,{children:"application"})})," tag\u2019s ",(0,i.jsx)(n.code,{children:"android:icon"})," attribute to reference icons from the previous step (for example, ",(0,i.jsx)(n.code,{children:'<application android:icon="@mipmap/ic_launcher" ...'}),")."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"To verify that the icon has been replaced, run your app and inspect the app icon in the Launcher."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"ios",children:"iOS"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Review the ",(0,i.jsx)(n.a,{href:"https://developer.apple.com/design/human-interface-guidelines/foundations/app-icons",children:"iOS app icons guidelines"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the Xcode project navigator, select ",(0,i.jsx)(n.code,{children:"Assets.xcassets"})," in the ",(0,i.jsx)(n.code,{children:"Runner"})," folder. Update the placeholder icons with your own app icons."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Verify the icon has been replaced by running your app using ",(0,i.jsx)(n.code,{children:"flutter run"}),"."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var r=t(6540);const i={},o=r.createContext(i);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);